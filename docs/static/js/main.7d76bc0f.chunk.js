(this["webpackJsonpquotation-list"]=this["webpackJsonpquotation-list"]||[]).push([[0],{28:function(e,t,a){},33:function(e,t,a){"use strict";a.r(t);var s=a(3),c=a.n(s),l=a(15),n=a.n(l),i=(a.p,a.p+"static/media/LuxuriaLogo.c87bdf60.png"),r=a(1);function o(){return Object(r.jsx)("div",{className:"col-auto gx-0",children:Object(r.jsx)("div",{className:"vr",style:{height:"100%",width:"1px"}})})}function d(){return Object(r.jsx)("hr",{style:{margin:0}})}const j=["Sr. No.","Description","Image","QTY","Rate","Amount"],m={"Sr. No.":.7,Description:4,Image:1.5,"HSN/SAC":1,QTY:.5,Rate:.5,Amount:.5},b=e=>Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(e);function h(e){let{name:t="Client Name",quotationNumber:a=0,quotationDate:s=new Date}=e;const c=window.localStorage.getItem("KH_data"),l=JSON.parse(c||"[]"),n=window.localStorage.getItem("KH_ClientDetails"),h=JSON.parse(n||"{}"),u=l.reduce(((e,t)=>e+(t.rate||0)*(t.quantity||0)),0);return Object(r.jsx)("div",{className:"main-container",children:Object(r.jsxs)("div",{className:"container-fluid black-border-container",children:[Object(r.jsxs)("div",{className:"row",children:[Object(r.jsx)("div",{className:"col-4 ",children:Object(r.jsx)("div",{className:"d-flex align-items-center justify-content-center flex-column h-100",children:Object(r.jsx)("img",{src:i,className:"w-100",alt:""})})}),Object(r.jsx)(o,{}),Object(r.jsx)("div",{className:"col",children:Object(r.jsxs)("strong",{className:"text-center",children:[Object(r.jsx)("p",{className:"h3 fw-semibold",children:"QUOTATION "}),Object(r.jsx)("p",{className:"h4",children:"Luxuria By Kaushal Homes"}),Object(r.jsx)("p",{className:"h6",children:"405 opp. Metro pillar no. 120, MG Road"}),Object(r.jsx)("p",{className:"h6",children:"Ghitorni, Delhi - 110030"}),Object(r.jsx)("p",{className:"h6",children:Object(r.jsx)("a",{href:"mailto:sumit@kaushalhomes.com",children:"sumit@kaushalhomes.com"})}),Object(r.jsx)("p",{className:"h6",children:" Mob. No. +9196371-70000"})]})})]}),Object(r.jsx)(d,{}),Object(r.jsxs)("div",{className:"row gx-0",children:[Object(r.jsxs)("div",{className:"col ms-2 ",children:["To, ",Object(r.jsx)("span",{className:"h6 fw-bold",children:h.name}),Object(r.jsxs)("div",{className:"ms-4",children:[Object(r.jsx)("p",{className:"fw-semibold",children:h.address}),Object(r.jsxs)("p",{className:"fw-semibold",children:["Contact No. : ",h.contact]})]})]}),Object(r.jsx)(o,{}),Object(r.jsxs)("div",{className:"col-4",children:[Object(r.jsxs)("div",{className:"row text-center",children:[Object(r.jsx)("p",{children:"Quotation Number "}),Object(r.jsx)("strong",{children:Object(r.jsx)("p",{children:h.quotationNumber})})]}),Object(r.jsx)("hr",{style:{margin:0}}),Object(r.jsxs)("div",{className:"row text-center",children:[Object(r.jsx)("p",{children:"Quotation Date"}),Object(r.jsx)("strong",{children:Object(r.jsx)("p",{children:s.toLocaleDateString("en-IN")})})]})]})]}),Object(r.jsx)(d,{}),Object(r.jsx)("div",{className:"row",children:Object(r.jsx)("p",{className:"ms-2",children:"In Accordance with your request inquiry, we are pleased to submit the following Quotation with our Best Prices"})}),Object(r.jsx)("div",{className:"row"}),Object(r.jsx)("div",{className:"row"}),Object(r.jsx)(d,{}),Object(r.jsxs)("table",{className:"my-3 table table-striped",style:{width:"100%"},children:[Object(r.jsx)("thead",{children:Object(r.jsx)("tr",{children:j.map((e=>Object(r.jsx)("th",{scope:"col",className:"text-center",style:{width:"".concat(10*m[e],"%"),wordWrap:"break-word",maxWidth:"".concat(10*m[e],"%")},children:e},e)))})}),Object(r.jsx)("tbody",{children:l.map(((e,t)=>{let{description:a,image:s,HSN_SAC:c,quantity:l,rate:n}=e;return Object(r.jsxs)("tr",{className:"text-center",children:[Object(r.jsx)("th",{scope:"row",children:t+1}),Object(r.jsx)("td",{className:"text-start",children:a?a.split("\n").map(((e,t)=>e.startsWith("HH ")?Object(r.jsx)("div",{className:"fw-bold h6",children:e.replace(/HH /,"")},t+e):e.startsWith("BB ")?Object(r.jsx)("div",{className:"fw-semibold fst-italic",children:e.replace(/BB /,"")},t+e):Object(r.jsx)("div",{children:e},t+e))):null}),Object(r.jsx)("td",{children:s?Object(r.jsx)("img",{className:"w-100",src:s,alt:""}):""}),Object(r.jsx)("td",{children:l}),Object(r.jsx)("td",{children:b(n||0)}),Object(r.jsx)("td",{children:b((l||0)*(n||0))})]},t)}))})]}),Object(r.jsx)(d,{}),Object(r.jsxs)("div",{className:"row",children:[Object(r.jsxs)("div",{className:"col ms-2  my-2",children:[Object(r.jsx)("strong",{children:"Terms and Conditions"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"Once goods have been sold, they cannot be returned."}),Object(r.jsx)("li",{children:"Interest @18% p.a shall be charged on payment after due date."}),Object(r.jsx)("li",{children:"Payment terms: 50% advance has to be given in advance. Rest of the 50% before delivery."}),Object(r.jsx)("li",{children:"Delivery period will be from 30 to 35 days after advance is received."}),Object(r.jsx)("li",{children:"All disputes are subject to Delhi jurisdiction only."})]})]}),Object(r.jsx)(o,{}),Object(r.jsxs)("div",{className:"col-sm-auto text-center my-2 me-2",style:{width:"280px"},children:[Object(r.jsxs)("div",{className:"row",children:[Object(r.jsxs)("div",{className:"col text-start",children:[Object(r.jsx)("p",{children:"Gross Amount "}),Object(r.jsx)("p",{children:"Add GST @18%"})]}),Object(r.jsxs)("div",{className:"col text-end",children:[Object(r.jsx)("p",{children:b(u)}),Object(r.jsx)("p",{children:b(.18*u)})]})]}),Object(r.jsx)("div",{className:"row",children:Object(r.jsx)("div",{className:"col",children:Object(r.jsxs)("strong",{children:["Total Amount (INR) \xa0",b(1.18*u)]})})})]})]}),Object(r.jsx)(d,{})]})})}var u=a(11);function x(e){let{data:t={},onChange:a=(()=>{}),setUploading:c}=e;const[l,n]=s.useState(t),{description:i,image:o,HSN_SAC:d,quantity:j,rate:m}=l,b=(e,t)=>{const s={...l,[e]:t};n(s),a(s)};s.useEffect((()=>{a(l)}),[]);return Object(r.jsx)("form",{children:Object(r.jsxs)("div",{className:"mb-3",children:[Object(r.jsx)("label",{htmlFor:"description",className:"form-label",children:"Description"}),Object(r.jsx)("textarea",{className:"form-control",id:"description",defaultValue:i,onChange:e=>b("description",e.target.value)}),Object(r.jsx)("label",{htmlFor:"description",className:"mt-3 form-label",children:"Image"}),Object(r.jsx)("input",{className:"form-control",id:"image",type:"file",accept:"image/*",onChange:e=>{const t=e.target.files[0],a=+new Date+"-"+t.name,s={contentType:t.type},l=Object(u.b)(),n=Object(u.c)(l,a);c(!0),Object(u.d)(n,t,s).then((async e=>{const t=await Object(u.a)(e.ref);b("image",t),c(!1)}))}}),o?Object(r.jsx)("img",{className:"w-100",src:o,alt:"hat be"}):null,Object(r.jsx)("label",{htmlFor:"HSN/SAC",className:"mt-3 form-label",children:"HSN/SAC"}),Object(r.jsx)("input",{className:"form-control",id:"HSN/SAC",defaultValue:d,onChange:e=>b("HSN_SAC",e.target.value)}),Object(r.jsx)("label",{htmlFor:"quantity",className:"mt-3 form-label",children:"Quantity"}),Object(r.jsx)("input",{className:"form-control",id:"quantity",defaultValue:j,onChange:e=>b("quantity",e.target.value)}),Object(r.jsx)("label",{htmlFor:"rate",className:"mt-3 form-label",children:"Rate"}),Object(r.jsx)("input",{className:"form-control",id:"rate",defaultValue:m,onChange:e=>b("rate",e.target.value)})]})})}var O=a(6);const p=window.localStorage.getItem("KH_ClientDetails");JSON.parse(p||"{}");function N(e){let{clientDetails:t={},updateClientDetails:a}=e;const{name:s,address:c,contact:l,quotationNumber:n}=t,i=(e,s)=>{const c={...t,[e]:s};a(c)};return Object(r.jsxs)("div",{className:"mb-3",children:[Object(r.jsx)("label",{htmlFor:"name",className:"form-label",children:"Name"}),Object(r.jsx)("input",{className:"form-control",id:"name",defaultValue:s,onChange:e=>i("name",e.target.value)}),Object(r.jsx)("label",{htmlFor:"address",className:"mt-3 form-label",children:"Address"}),Object(r.jsx)("input",{className:"form-control",id:"address",defaultValue:c,onChange:e=>i("address",e.target.value)}),Object(r.jsx)("label",{htmlFor:"contact",className:"mt-3 form-label",children:"Contact"}),Object(r.jsx)("input",{className:"form-control",id:"contact",defaultValue:l,onChange:e=>i("contact",e.target.value)}),Object(r.jsx)("label",{htmlFor:"quotationNumber",className:"mt-3 form-label",children:"Quotation Number"}),Object(r.jsx)("input",{className:"form-control",id:"quotationNumber",defaultValue:n,onChange:e=>i("quotationNumber",e.target.value)})]})}const f=["Sr. No.","Description","Image","HSN/SAC","QTY","Rate","Amount"],g={"Sr. No.":.7,Description:4,Image:1.5,"HSN/SAC":1,QTY:.5,Rate:.5,Amount:.5};function v(e){let{data:t=[],clientDetails:a,updateData:c,updateClientDetails:l}=e;const[n,i]=s.useState({}),[o,d]=s.useState(null),[j,m]=s.useState(!1),[b,h]=s.useState(!1);return s.useEffect((()=>{const e=document.getElementById("exampleModal");if(null==e)return;const t=()=>{m(!0)},a=()=>{m(!1)};return e.addEventListener("show.bs.modal",t),e.addEventListener("hidden.bs.modal",a),()=>{e.removeEventListener("show.bs.modal",t),e.removeEventListener("hidden.bs.modal",a)}}),[]),Object(r.jsxs)("div",{className:"container-fluid ",children:[Object(r.jsx)(N,{clientDetails:a,updateClientDetails:l}),Object(r.jsxs)("div",{className:"d-grid gap-2 m-2 d-sm-flex justify-content-sm-end",children:[null!==o?Object(r.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#exampleModal",children:"Edit Item"}):null,null!==o?Object(r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>{c([...t.slice(0,o),...t.slice(o+1)]),d(null)},children:"Delete Item"}):null,Object(r.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#exampleModal",onClick:()=>d(null),children:"Add Item"})]}),Object(r.jsxs)("table",{className:"table table-dark table-striped",style:{width:"100%"},children:[Object(r.jsx)("thead",{children:Object(r.jsx)("tr",{children:f.map((e=>Object(r.jsx)("th",{scope:"col",className:"text-center",style:{width:"".concat(10*g[e],"%"),wordWrap:"break-word",maxWidth:"".concat(10*g[e],"%")},children:e},e)))})}),Object(r.jsx)("tbody",{children:t.map(((e,t)=>{let{description:a,image:s,HSN_SAC:c,quantity:l,rate:n,amount:i}=e;return Object(r.jsxs)("tr",{className:o===t?"focussedItem text-center":"text-center",onClick:()=>d(t),children:[Object(r.jsx)("th",{scope:"row",children:t+1}),Object(r.jsx)("td",{className:"text-start",children:a?a.split("\n").map(((e,t)=>e.startsWith("HH ")?Object(r.jsx)("div",{className:"fw-bold h6",children:e.replace(/HH /,"")},t+e):e.startsWith("BB ")?Object(r.jsx)("div",{className:"fw-semibold fst-italic",children:e.replace(/BB /,"")},t+e):Object(r.jsx)("div",{children:e},t+e))):null}),Object(r.jsx)("td",{children:s?Object(r.jsx)("img",{className:"w-100",src:s,alt:""}):""}),Object(r.jsx)("td",{children:c}),Object(r.jsx)("td",{children:l||0}),Object(r.jsx)("td",{children:n||0}),Object(r.jsx)("td",{children:(l||0)*(n||0)})]},t)}))})]}),Object(r.jsx)("div",{className:"modal fade",id:"exampleModal",tabIndex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object(r.jsx)("div",{className:"modal-dialog",children:Object(r.jsxs)("div",{className:"modal-content",children:[Object(r.jsxs)("div",{className:"modal-header",children:[Object(r.jsx)("h1",{className:"modal-title fs-5",id:"exampleModalLabel",children:"Item Details"}),Object(r.jsx)("button",{type:"button",className:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})]}),Object(r.jsx)("div",{className:"modal-body",children:j?Object(r.jsx)(x,{onChange:i,data:null!==o?t[o]:{},setUploading:h}):null}),Object(r.jsxs)("div",{className:"modal-footer",children:[Object(r.jsx)("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",disabled:b,children:"Close"}),Object(r.jsx)("button",{type:"button",className:"btn btn-primary","data-bs-dismiss":"modal",onClick:()=>{const e=n;c(null!==o?[...t.slice(0,o),e,...t.slice(o+1)]:[...t,e]),t.push({})},disabled:b,children:"Save"})]})]})})})]})}a(32),a(27),a(28);var y=a(16),w=a(10);const S=Object(y.a)({apiKey:"AIzaSyAwKnWWyWHPOYwehaL-paX7KPOLHdomH6s",authDomain:"kh-curtains.firebaseapp.com",projectId:"kh-curtains",storageBucket:"kh-curtains.appspot.com",messagingSenderId:"88547459846",appId:"1:88547459846:web:99c15fd9dfa6c44ef19487",databaseURL:"https://kh-curtains-default-rtdb.asia-southeast1.firebasedatabase.app/"}),C=Object(O.c)(S),D=Object(w.a)(),I=()=>{Object(w.d)(D)},k=async(e,t)=>Object(w.c)(D,e,t).then((e=>e.user)).catch((e=>{console.error(e.message,e)}));var q=a(36),A=a(40),H=a(41),L=a(37),T=a(38),B=a(42),F=a(39);function R(e){let{showSummary:t,setShowSummary:a,onClickShowList:s}=e;return t?null:Object(r.jsxs)("div",{className:"d-grid gap-2 m-2 d-sm-flex justify-content-sm-end",children:[Object(r.jsx)("button",{type:"button",className:"btn btn-primary me-sm-2",onClick:s,children:"Back"}),Object(r.jsx)("button",{type:"button",className:"btn btn-primary me-sm-2",onClick:a,children:"Show Receipt"}),Object(r.jsx)("button",{type:"button",className:"btn btn-primary me-sm-2",onClick:I,children:"Logout"})]})}var E=a(17);const W=a.n(E).a.throttle((function(e,t){Object(O.f)(Object(O.e)(C,"quotations/"+e),{...t,updatedTimestamp:Date.now()})}),5e3);const Q={data:[],clientDetails:{},createdTimestamp:Date.now()};function M(e){let{itemId:t,onClickShowList:a}=e;const[s,l]=c.a.useState(!1),[n,i]=c.a.useState(Q),[o,d]=c.a.useState(!0);o&&function(e){const t=Object(O.e)(C);return Object(O.b)(Object(O.a)(t,"quotations/".concat(e))).then((e=>e.exists()?{...Q,...e.val()}:Q)).catch((e=>{throw console.error(e),e}))}(t).then((e=>{i(e),d(!1)}));if(!o)return s?Object(r.jsx)(h,{}):Object(r.jsxs)("div",{class:"mt-5",children:[Object(r.jsx)(R,{showSummary:s,setShowSummary:l,onClickShowList:a}),Object(r.jsx)(v,{data:n.data,clientDetails:n.clientDetails,updateData:e=>{i({...n,data:e}),W(t,{...n,data:e})},updateClientDetails:e=>{i({...n,clientDetails:e}),W(t,{...n,clientDetails:e})}})]})}const V=e=>new Date(e).toLocaleString("en-IN",{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"}),K=Object(O.e)(C);var _=e=>{let{}=e;const[t,a]=c.a.useState(null),[s,l]=c.a.useState([]),[n,i]=c.a.useState("");return c.a.useEffect((()=>{Object(O.b)(Object(O.a)(K,"quotations/")).then((e=>{e.exists()&&l(e.val())})).catch((e=>{throw console.error(e),e}))}),[t]),t?Object(r.jsx)(M,{itemId:t,onClickShowList:()=>{a(null)}}):Object(r.jsxs)(q.a,{className:"mt-5",children:[Object(r.jsxs)(L.a,{children:[Object(r.jsx)(T.a,{xs:"4",children:Object(r.jsx)(B.a,{color:"primary",onClick:()=>{const e=Object(O.e)(C,"quotations/");a(Object(O.d)(e).key)},xs:"3",children:"Add new quotation"})}),Object(r.jsx)(T.a,{children:Object(r.jsx)(F.a,{placeholder:"Search",onChange:e=>i(e.target.value)})})]}),Object(r.jsx)(A.a,{className:"mt-4",children:Object.entries(s).map((e=>{let[t,a]=e;return[t,a.clientDetails||{}]})).filter((e=>{let[t,a]=e;return(a.contact||"").includes(n)||(a.quotationNumber||"").includes(n)||(a.name||"").includes(n)})).reverse().map((e=>{let[t,{name:c,contact:l,quotationNumber:n}]=e;return Object(r.jsxs)(H.a,{onClick:()=>a(t),children:[Object(r.jsxs)("div",{children:["No. ",n]}),Object(r.jsxs)("div",{children:["Name: ",c]}),Object(r.jsxs)("div",{children:["Phone Number: ",l]}),Object(r.jsxs)("div",{children:["Created time:"," ",V(s[t].createdTimestamp)," | Updated time:",V(s[t].updatedTimestamp)]})]},t)}))})]})};function P(){const[e,t]=s.useState(!1),[a,c]=s.useState(null),[l,n]=s.useState(!1),[i,o]=s.useState({}),d=(e,t)=>{o({...i,[e]:t})};return s.useEffect((()=>Object(w.b)(D,(e=>{c(e),n(!0)}))),[]),a?Object(r.jsx)(_,{}):Object(r.jsxs)("div",{className:"mt-5",children:[Object(r.jsx)("label",{htmlFor:"HSN/SAC",className:"mt-3 form-label",children:"Username"}),Object(r.jsx)("input",{className:"form-control",id:"HSN/SAC",onChange:e=>d("email",e.target.value)}),Object(r.jsx)("label",{htmlFor:"quantity",className:"mt-3 form-label",children:"Password"}),Object(r.jsx)("input",{className:"form-control",id:"quantity",type:"password",onChange:e=>d("password",e.target.value)}),Object(r.jsx)("div",{className:"d-grid gap-2 mt-3  d-sm-flex justify-content-sm-start",children:Object(r.jsx)("button",{type:"button",className:"btn btn-primary me-sm-2",onClick:()=>k(i.email,i.password),children:"Login"})})]})}const U=document.getElementById("root");n.a.createRoot(U).render(Object(r.jsx)(P,{}))}},[[33,1,2]]]);
//# sourceMappingURL=main.7d76bc0f.chunk.js.map